{"version":3,"sources":["webpack:///webpack/bootstrap 08cb861ae31be4a52d4e","webpack:///external \"THREE\"","webpack:///./src/JTreeEntity.ts","webpack:///./src/lib/vox.ts","webpack:///./src/thirdpersoncontroller.ts","webpack:///./src/content/character/character.toml","webpack:///./src/index.ts","webpack:///./src/lib/input.ts","webpack:///./src/lib/joshuatree.ts","webpack:///./~/path-browserify/index.js","webpack:///./~/process/browser.js","webpack:///./src/content/character-controller.toml"],"names":[],"mappings":"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AEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;AC/NA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACnLtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 08cb861ae31be4a52d4e","module.exports = THREE;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"THREE\"\n// module id = 0\n// module chunks = 0","import {Uint64, JoshuaTree} from './lib/joshuatree';\r\n\r\nlet maxNum: Uint64 = new Uint64([4294967295, 4294967295]);\r\nlet zeroNum: Uint64 = new Uint64([0, 0]);\r\nlet highBit: number = 0x800000;\r\n\r\nclass Position {\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n\r\n    constructor(x: number, y: number, z: number){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    Add(other: Position){\r\n        return new Position(this.x + other.x, this.y + other.y, this.z + other.z);\r\n    }\r\n\r\n    toString(){\r\n        return '(' + this.x + ', ' + this.y + ', ' + this.z + ')';\r\n    }\r\n}\r\n\r\nlet maxDepth = 0;\r\n\r\nexport default class JTreeEntity{\r\n    jtree: JoshuaTree;\r\n\r\n    generateJTree(){\r\n        this.jtree = new JoshuaTree();\r\n        this.generateJTree_internal(this.jtree, 0);\r\n    }\r\n    generateJTree_internal(root: JoshuaTree, depth: number){\r\n        if(depth > maxDepth){\r\n            return;\r\n        }\r\n        \r\n        for(let i = 63; i >= 0; --i){\r\n            if(i%2 === 1){\r\n                let jchild = new JoshuaTree(); \r\n                root.Add(i, jchild);\r\n                this.generateJTree_internal(jchild, depth + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // take the index of which bit a voxel is in\r\n    // returns an un-scaled position (doesn't account for depth)\r\n    indexToRelativePosition(index: number){\r\n        return new Position(index % 4, Math.floor(index / 4) % 4, Math.floor(index / 16));\r\n    }\r\n\r\n    indexToScaledRelativePosition(index: number, depth: number){\r\n        let scalePower = maxDepth - depth;\r\n        let relPos = this.indexToRelativePosition(index);\r\n\r\n        relPos.x *= Math.pow(4, scalePower);\r\n        relPos.y *= Math.pow(4, scalePower);\r\n        relPos.z *= Math.pow(4, scalePower);\r\n\r\n        return relPos;\r\n    }\r\n\r\n    leafLoop(fn: (pos: Position) => void ,node: JoshuaTree, offset: Position){\r\n        for(let i = 63; i >= 0; --i){\r\n            let bitFlag = new Uint64();\r\n            bitFlag.Set(i);\r\n\r\n            if(!this.jtree.And(bitFlag).Empty()){\r\n                fn(offset.Add(this.indexToRelativePosition(i)))\r\n                //console.log('hit' + i);\r\n            }\r\n        }\r\n    }\r\n\r\n    depthLoop(fn: (pos: Position) => void, node: JoshuaTree, depth: number, offset: Position){\r\n        if(depth > maxDepth){\r\n            return;\r\n        }\r\n\r\n        if(node.Equals(maxNum)) {\r\n            // Render a large cube\r\n        } else if(node.Equals(zeroNum) ){\r\n            // Skip this branch \r\n        } else {\r\n            // Recurse or render leaf loop\r\n            if(depth === maxDepth){\r\n                this.leafLoop(fn, node, offset);\r\n            } else {\r\n                // Call depth node on each child\r\n                Object.keys(this.jtree.children).forEach((childKey: string) => {\r\n                    const child = this.jtree.children[childKey];\r\n                    if(child instanceof JoshuaTree) {\r\n                        let keynum = parseInt(childKey);\r\n                        this.depthLoop(fn, child, depth + 1, offset.Add(this.indexToScaledRelativePosition(keynum, depth))); \r\n                    }    \r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    spawnCubes(spawnFunc: (pos: Position)=> void){\r\n        this.depthLoop(spawnFunc, this.jtree, 0, new Position(0,0,0));\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/JTreeEntity.ts","import * as path from 'path';\r\nimport * as THREE from 'three';\r\n\r\ndeclare const vox: any;\r\n\r\nconst parser = new vox.Parser();\r\n\r\nexport default class VoxModel extends THREE.Object3D {\r\n    data: any;\r\n    animations: any;\r\n    current: string;\r\n    frame: number;\r\n    timeout: number;\r\n\r\n    constructor(voxData: any) {\r\n        super();\r\n        this.data = voxData;\r\n        const dir = './vox';\r\n        this.animations = {};\r\n\r\n        Object.keys(this.data.animation).forEach(key => {\r\n            const anim = this.data.animation[key];\r\n\r\n            this.animations[key] = {\r\n                ...anim,\r\n                vox: anim.vox.map(file => parser.parse(path.join(dir, file)).then(voxelBin =>  {\r\n                    const builder = new vox.MeshBuilder(voxelBin, { voxelSize: anim.size });\r\n                    return builder.createMesh();\r\n                })),\r\n            };\r\n        });\r\n\r\n        this.play(this.data.default);\r\n    }\r\n\r\n    play(animation: string) {\r\n        if(this.timeout) clearInterval(this.timeout);\r\n\r\n        this.current = animation;\r\n        this.frame = 0;\r\n\r\n        this.timeout = setInterval(this.tick.bind(this), this.animations[animation].speed);\r\n    }\r\n\r\n    stop() {\r\n        clearTimeout(this.timeout);\r\n    }\r\n\r\n    async tick() {\r\n        if(this.children[0])\r\n            this.remove(this.children[0]);\r\n        \r\n        const voxList = this.animations[this.current].vox;\r\n        const mesh = await voxList[this.frame];\r\n        this.add(mesh);\r\n\r\n        this.frame = this.frame + 1 === voxList.length ? this.frame = 0 : this.frame + 1;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/vox.ts","import * as THREE from 'three';\r\nimport {JoshuaTree} from './lib/joshuatree';\r\nimport {keys, mouse} from './lib/input';\r\nconst data = require('./content/character-controller.toml');\r\n\r\nexport default class ThirdPersonController {\r\n    cam: THREE.Camera;\r\n    character: THREE.Object3D;\r\n    distance: THREE.Vector3;\r\n    speed: number;\r\n    targetOffset: THREE.Vector3;\r\n\r\n    constructor(cam: THREE.Camera, character: THREE.Object3D, tree: JoshuaTree) {\r\n        this.distance = new THREE.Vector3(data.distance.x, data.distance.y, data.distance.z);\r\n        this.targetOffset = new THREE.Vector3(data.offset.x, data.offset.y, data.offset.z);\r\n        this.cam = cam;\r\n        this.speed = data.speed;\r\n        this.character = character;\r\n    }\r\n\r\n    tick(delta: number) {\r\n        const moveDelta = new THREE.Vector3(0, 0, 0);\r\n\r\n        if(keys.w) moveDelta.setZ(1);\r\n        if(keys.s) moveDelta.setZ(-1);\r\n        if(keys.d) moveDelta.setX(-1);\r\n        if(keys.a) moveDelta.setX(1);\r\n\r\n        this.character.position.add(moveDelta.multiplyScalar(this.speed * delta));\r\n\r\n        this.cam.position.lerp(this.character.position.clone().add(this.distance), data.lerp);\r\n        this.cam.lookAt(this.character.position.clone().add(this.targetOffset));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/thirdpersoncontroller.ts","module.exports    = {\n\t\"default\": \"walk\",\n\t\"animation\": {\n\t\t\"walk\": {\n\t\t\t\"size\": 0.02,\n\t\t\t\"speed\": 100,\n\t\t\t\"vox\": [\n\t\t\t\t\"characters/player/chr_walkcycle-00.vox\",\n\t\t\t\t\"characters/player/chr_walkcycle-01.vox\",\n\t\t\t\t\"characters/player/chr_walkcycle-02.vox\",\n\t\t\t\t\"characters/player/chr_walkcycle-03.vox\",\n\t\t\t\t\"characters/player/chr_walkcycle-04.vox\",\n\t\t\t\t\"characters/player/chr_walkcycle-05.vox\"\n\t\t\t]\n\t\t}\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/content/character/character.toml\n// module id = 4\n// module chunks = 0","import JTreeEntity from './JTreeEntity';\r\nimport ThirdPersonController from './thirdpersoncontroller';\r\nimport * as THREE from 'three';\r\nimport Vox from './lib/vox';\r\n\r\n\r\nconst charData = require('./content/character/character.toml');\r\n\r\nconst character = new Vox(charData);\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );\r\n\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( window.innerWidth, window.innerHeight );\r\ndocument.body.appendChild( renderer.domElement );\r\nconst jtree = new JTreeEntity();\r\nconst controls = new ThirdPersonController(camera, character, jtree.jtree);\r\nconst clock = new THREE.Clock();\r\n\r\ncamera.position.z = 5;\r\nconst geometry = new THREE.BoxBufferGeometry( 1, 1, 1 );\r\nconst uniforms = {\r\n    color: {value: new THREE.Vector4(0, 1, 0, 1)},\r\n};\r\n\r\nconst material = new THREE.MeshPhongMaterial( {color: 0x00ff00} );\r\n\r\n\r\njtree.generateJTree();\r\njtree.spawnCubes(pos => {\r\n    const cube = new THREE.Mesh( geometry, material );\r\n    cube.position.copy(new THREE.Vector3(pos.x, pos.y, pos.z));\r\n    scene.add( cube );\r\n});\r\n\r\nscene.add(character);\r\nscene.add(new THREE.DirectionalLight());\r\nscene.add(new THREE.AmbientLight());\r\n\r\nconst direction = 1;\r\n\r\nconst render = () => {\r\n    const delta = clock.getDelta();\r\n\r\n    requestAnimationFrame(render);\r\n    controls.tick(delta);\r\n\r\n    renderer.render(scene, camera);\r\n};\r\n\r\nrender();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","document.addEventListener('keyup', (e) => {\r\n    keys[e.keyCode] = false;\r\n    keys[e.key] = false;\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n    keys[e.keyCode] = true;\r\n    keys[e.key] = true;\r\n});\r\n\r\ndocument.addEventListener('mousemove', e => {\r\n    mouse.x = e.clientX;\r\n    mouse.y = e.clientY;\r\n});\r\n\r\ndocument.addEventListener('mousedown', e => {\r\n    mouse.left = true;\r\n});\r\n\r\ndocument.addEventListener('mouseup', e => {\r\n    mouse.left = false;\r\n});\r\n\r\nexport const keys: {[key: string]: boolean} = {};\r\nexport const mouse = {\r\n    x: 0,\r\n    y: 0,\r\n    left: false,\r\n    right: false,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/input.ts","export class Uint64 {\r\n    data: Uint32Array;\r\n\r\n    constructor(data: number[] = [0, 0]) {\r\n        this.data = new Uint32Array(data);\r\n    }\r\n\r\n    Copy(from: Uint64): Uint64 {\r\n        this.data[0] = from.data[0];\r\n        this.data[1] = from.data[1];\r\n        return this;\r\n    }\r\n\r\n    Xor(target: Uint64): Uint64 {\r\n         return new Uint64([this.data[0] ^ target.data[0], this.data[1] ^ target.data[1]]);\r\n    }\r\n\r\n    Not(): Uint64 {\r\n        return new Uint64([~this.data[0], ~this.data[1]]);\r\n    }\r\n\r\n    Or(target: Uint64): Uint64 {\r\n        return new Uint64([this.data[0] | target.data[0], this.data[1] | target.data[1]]);\r\n    }\r\n\r\n    And(target: Uint64): Uint64 {\r\n        return new Uint64([this.data[0] & target.data[0], this.data[1] & target.data[1]]);\r\n    }\r\n\r\n    Unset(location: number): Uint64 {\r\n        if(location > 31) {\r\n            location -= 32;\r\n            this.data[1] &= (1 << location);\r\n        } else {\r\n            this.data[0] &= (1 << location);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    Set(location: number): Uint64 {\r\n        if(location > 31) {\r\n            location -= 32;\r\n            this.data[1] |= (1 << location);\r\n        } else {\r\n            this.data[0] |= (1 << location);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    Empty(): boolean {\r\n        return this.data[0] === 0 && this.data[1] === 0;\r\n    }\r\n\r\n    Equals(target: Uint64): boolean {\r\n        return target.data[0] === this.data[0] && target.data[1] === this.data[1];\r\n    }\r\n}\r\n\r\nexport class JoshuaTree extends Uint64 {\r\n    children: {[key: string]: JoshuaTree | any};\r\n    parent: JoshuaTree;\r\n    key: number;\r\n\r\n    constructor() {\r\n        super();\r\n        this.children = {};\r\n    }\r\n\r\n    FromJSON(json: any, treeClass: any = JoshuaTree): JoshuaTree {\r\n        this.parent = json.parent;\r\n        Object.keys(json.children).forEach(key => {\r\n            let child = json['children'][key];\r\n            const numKey = parseInt(key, 10);\r\n            child = child.children ? new treeClass().FromJSON(child) : child;\r\n            this.Add(numKey, child);\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    Remove(key: number): boolean {\r\n        if(this.children[key]) {\r\n            const child = this.children[key];\r\n            this.Copy(this.Xor(new Uint64().Set(key)));\r\n            if(child instanceof JoshuaTree) {\r\n                delete child.parent;\r\n                delete child.key;\r\n            }\r\n            delete this.children[key];\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    ToJSON(): string {\r\n        return JSON.stringify(this);\r\n    }\r\n\r\n    Add(key: number, child: JoshuaTree | any, force?: boolean): boolean {\r\n        if(!this.children[key]) {\r\n            this.children[key] = child;\r\n            if(child instanceof JoshuaTree) {\r\n                child.parent = this;\r\n                child.key = key;\r\n            }\r\n            this.Copy(this.Or(new Uint64().Set(key)));\r\n            return true;\r\n        } else if(force) {\r\n            this.Remove(key);\r\n            this.Add(key, child);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    ForEach(fn: (node: JoshuaTree, key?: string) => void, key?: string) {\r\n        fn(this, key);\r\n\r\n        Object.keys(this.children).forEach((childKey: string) => {\r\n            const child = this.children[childKey];\r\n            if(child instanceof JoshuaTree) {\r\n                child.ForEach(fn, childKey);\r\n            }\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/joshuatree.ts","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/path-browserify/index.js\n// module id = 8\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 9\n// module chunks = 0","module.exports    = {\n\t\"speed\": 2,\n\t\"lerp\": 0.5,\n\t\"distance\": {\n\t\t\"x\": 0,\n\t\t\"y\": 1.2,\n\t\t\"z\": -0.7\n\t},\n\t\"offset\": {\n\t\t\"x\": 0,\n\t\t\"y\": 0,\n\t\t\"z\": 1\n\t}\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/content/character-controller.toml\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap f87e81d6da8eb64d2ac3","webpack:///external \"THREE\"","webpack:///./src/JTreeEntity.ts","webpack:///./src/index.ts","webpack:///./src/lib/input.ts","webpack:///./src/lib/joshuatree.ts","webpack:///./src/thirdpersoncontroller.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f87e81d6da8eb64d2ac3","module.exports = THREE;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"THREE\"\n// module id = 0\n// module chunks = 0","import {Uint64, JoshuaTree} from './lib/joshuatree';\r\n\r\nlet maxNum: Uint64 = new Uint64([4294967295, 4294967295]);\r\nlet zeroNum: Uint64 = new Uint64([0, 0]);\r\nlet highBit: number = 0x800000;\r\n\r\n\r\nclass Position {\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n\r\n    constructor(x: number, y: number, z: number){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    Add(other: Position){\r\n        return new Position(this.x + other.x, this.y + other.y, this.z + other.z);\r\n    }\r\n\r\n    toString(){\r\n        return '(' + this.x + ', ' + this.y + ', ' + this.z + ')';\r\n    }\r\n}\r\n\r\nlet maxDepth = 0;\r\n\r\nexport default class JTreeEntity{\r\n    jtree: JoshuaTree;\r\n\r\n    generateJTree(){\r\n        this.jtree = new JoshuaTree();\r\n        this.generateJTree_internal(this.jtree, 0);\r\n    }\r\n    generateJTree_internal(root: JoshuaTree, depth: number){\r\n        if(depth > maxDepth){\r\n            return;\r\n        }\r\n        \r\n        for(let i = 63; i >= 0; --i){\r\n            if(i%2 === 1){\r\n                let jchild = new JoshuaTree(); \r\n                root.Add(i, jchild);\r\n                this.generateJTree_internal(jchild, depth + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    // take the index of which bit a voxel is in\r\n    // returns an un-scaled position (doesn't account for depth)\r\n    indexToRelativePosition(index: number){\r\n        return new Position(index % 4, Math.floor(index / 4) % 4, Math.floor(index / 16));\r\n    }\r\n\r\n    indexToScaledRelativePosition(index: number, depth: number){\r\n        let scalePower = maxDepth - depth;\r\n        let relPos = this.indexToRelativePosition(index);\r\n\r\n        relPos.x *= Math.pow(4, scalePower);\r\n        relPos.y *= Math.pow(4, scalePower);\r\n        relPos.z *= Math.pow(4, scalePower);\r\n\r\n        return relPos;\r\n    }\r\n\r\n    leafLoop(fn: (pos: Position) => void ,node: JoshuaTree, offset: Position){\r\n        for(let i = 63; i >= 0; --i){\r\n            let bitFlag = new Uint64();\r\n            bitFlag.Set(i);\r\n\r\n            if(!this.jtree.And(bitFlag).Empty()){\r\n                fn(offset.Add(this.indexToRelativePosition(i)))\r\n                //console.log('hit' + i);\r\n            }\r\n        }\r\n    }\r\n\r\n    depthLoop(fn: (pos: Position) => void, node: JoshuaTree, depth: number, offset: Position){\r\n        if(depth > maxDepth){\r\n            return;\r\n        }\r\n\r\n        if(node.Equals(maxNum)) {\r\n            // Render a large cube\r\n        } else if(node.Equals(zeroNum) ){\r\n            // Skip this branch \r\n        } else {\r\n            // Recurse or render leaf loop\r\n            if(depth === maxDepth){\r\n                this.leafLoop(fn, node, offset);\r\n            } else {\r\n                // Call depth node on each child\r\n                Object.keys(this.jtree.children).forEach((childKey: string) => {\r\n                    const child = this.jtree.children[childKey];\r\n                    if(child instanceof JoshuaTree) {\r\n                        let keynum = parseInt(childKey);\r\n                        this.depthLoop(fn, child, depth + 1, offset.Add(this.indexToScaledRelativePosition(keynum, depth))); \r\n                    }    \r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    spawnCubes(spawnFunc: (pos: Position)=> void){\r\n        this.depthLoop(spawnFunc, this.jtree, 0, new Position(0,0,0));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/JTreeEntity.ts","\r\nimport JTreeEntity from './JTreeEntity';\r\nimport ThirdPersonController from './thirdpersoncontroller';\r\nimport * as THREE from 'three';\r\n\r\ndeclare var vox: any;\r\n\r\nvar parser = new vox.Parser();\r\nparser.parse(\"./vox/chr_walkcycle-00.vox\").then(function(voxelData) {\r\n    var param = { voxelSize: 0.02 };\r\n    var builder = new vox.MeshBuilder(voxelData, param);\r\n    var mesh = builder.createMesh();\r\n    character.add(mesh);\r\n});\r\n\r\nvar scene = new THREE.Scene();\r\nvar camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );\r\n\r\nvar renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( window.innerWidth, window.innerHeight );\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\nconst character = new THREE.Object3D();\r\nlet controls = new ThirdPersonController(camera, character);\r\nlet clock = new THREE.Clock();\r\n\r\ncamera.position.z = 5;\r\nvar geometry = new THREE.BoxBufferGeometry( 1, 1, 1 );\r\nlet uniforms = {\r\n    color: {value: new THREE.Vector4(0, 1, 0, 1)}\r\n};\r\n\r\nvar material = new THREE.MeshPhongMaterial( {color: 0x00ff00} );\r\n\r\nlet jtree = new JTreeEntity();\r\njtree.generateJTree();\r\njtree.spawnCubes(pos =>{    \r\n    var cube = new THREE.Mesh( geometry, material );\r\n    cube.position.copy(new THREE.Vector3(pos.x, pos.y, pos.z));\r\n    scene.add( cube );\r\n    //console.log('hit ' + pos);\r\n});\r\n\r\nscene.add(character);\r\nscene.add(new THREE.DirectionalLight());\r\nscene.add(new THREE.AmbientLight());\r\n\r\nlet direction = 1;\r\n\r\nvar render = function () {\r\n    const delta = clock.getDelta();\r\n    requestAnimationFrame(render);\r\n    controls.tick(delta);\r\n\r\n    renderer.render(scene, camera);\r\n};\r\n\r\nrender();\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","document.addEventListener('keyup', (e) => {\r\n    keys[e.keyCode] = false;\r\n    keys[e.key] = false;\r\n});\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n    keys[e.keyCode] = true;\r\n    keys[e.key] = true;\r\n});\r\n\r\ndocument.addEventListener('mousemove', e => {\r\n    mouse.x = e.clientX;\r\n    mouse.y = e.clientY;\r\n});\r\n\r\ndocument.addEventListener('mousedown', e => {\r\n    mouse.left = true;\r\n});\r\n\r\ndocument.addEventListener('mouseup', e => {\r\n    mouse.left = false;\r\n});\r\n\r\nexport const keys: {[key: string]: boolean} = {};\r\nexport const mouse = {\r\n    x: 0,\r\n    y: 0,\r\n    left: false,\r\n    right: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/input.ts","export class Uint64 {\r\n    data: Uint32Array;\r\n\r\n    constructor(data: number[] = [0, 0]) {\r\n        this.data = new Uint32Array(data);\r\n    }\r\n\r\n    Copy(from: Uint64): Uint64 {\r\n        this.data[0] = from.data[0];\r\n        this.data[1] = from.data[1];\r\n        return this;\r\n    }\r\n\r\n    Xor(target: Uint64): Uint64 {\r\n         return new Uint64([this.data[0] ^ target.data[0], this.data[1] ^ target.data[1]]);\r\n    }\r\n\r\n    Not(): Uint64 {\r\n        return new Uint64([~this.data[0], ~this.data[1]]);\r\n    }\r\n\r\n    Or(target: Uint64): Uint64 {\r\n        return new Uint64([this.data[0] | target.data[0], this.data[1] | target.data[1]]);\r\n    }\r\n\r\n    And(target: Uint64): Uint64 {\r\n        return new Uint64([this.data[0] & target.data[0], this.data[1] & target.data[1]]);\r\n    }\r\n\r\n    Unset(location: number): Uint64 {\r\n        if(location > 31) {\r\n            location -= 32;\r\n            this.data[1] &= (1 << location);\r\n        } else {\r\n            this.data[0] &= (1 << location);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    Set(location: number): Uint64 {\r\n        if(location > 31) {\r\n            location -= 32;\r\n            this.data[1] |= (1 << location);\r\n        } else {\r\n            this.data[0] |= (1 << location);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    Empty(): boolean {\r\n        return this.data[0] === 0 && this.data[1] === 0;\r\n    }\r\n\r\n    Equals(target: Uint64): boolean {\r\n        return target.data[0] === this.data[0] && target.data[1] === this.data[1];\r\n    }\r\n}\r\n\r\nexport class JoshuaTree extends Uint64 {\r\n    children: {[key: string]: JoshuaTree | any};\r\n    parent: JoshuaTree;\r\n    key: number;\r\n\r\n    constructor() {\r\n        super();\r\n        this.children = {};\r\n    }\r\n\r\n    FromJSON(json: any, treeClass: any = JoshuaTree): JoshuaTree {\r\n        this.parent = json.parent;\r\n        Object.keys(json.children).forEach(key => {\r\n            let child = json['children'][key];\r\n            const numKey = parseInt(key, 10);\r\n            child = child.children ? new treeClass().FromJSON(child) : child;\r\n            this.Add(numKey, child);\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    Remove(key: number): boolean {\r\n        if(this.children[key]) {\r\n            const child = this.children[key];\r\n            this.Copy(this.Xor(new Uint64().Set(key)));\r\n            if(child instanceof JoshuaTree) {\r\n                delete child.parent;\r\n                delete child.key;\r\n            }\r\n            delete this.children[key];\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    ToJSON(): string {\r\n        return JSON.stringify(this);\r\n    }\r\n\r\n    Add(key: number, child: JoshuaTree | any, force?: boolean): boolean {\r\n        if(!this.children[key]) {\r\n            this.children[key] = child;\r\n            if(child instanceof JoshuaTree) {\r\n                child.parent = this;\r\n                child.key = key;\r\n            }\r\n            this.Copy(this.Or(new Uint64().Set(key)));\r\n            return true;\r\n        } else if(force) {\r\n            this.Remove(key);\r\n            this.Add(key, child);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    ForEach(fn: (node: JoshuaTree, key?: string) => void, key?: string) {\r\n        fn(this, key);\r\n        \r\n        Object.keys(this.children).forEach((childKey: string) => {\r\n            const child = this.children[childKey];\r\n            if(child instanceof JoshuaTree) {\r\n                child.ForEach(fn, childKey);\r\n            }    \r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/joshuatree.ts","import * as THREE from 'three';\r\nimport {keys, mouse} from './lib/input';\r\n\r\nexport default class ThirdPersonController {\r\n    cam: THREE.Camera;\r\n    character: THREE.Object3D;\r\n    distance: THREE.Vector3; \r\n    speed: number;\r\n\r\n    constructor(cam: THREE.Camera, character: THREE.Object3D) {\r\n        this.distance = new THREE.Vector3(0, 1, -0.5);\r\n        this.cam = cam;\r\n        this.speed = 2;\r\n        this.character = character;\r\n    }\r\n\r\n    tick(delta: number) {\r\n        const moveDelta = new THREE.Vector3(0, 0, 0);\r\n        \r\n        if(keys.w) moveDelta.setZ(1);\r\n        if(keys.s) moveDelta.setZ(-1);\r\n        if(keys.d) moveDelta.setX(-1);\r\n        if(keys.a) moveDelta.setX(1);    \r\n        \r\n        this.character.position.add(moveDelta.multiplyScalar(this.speed * delta));\r\n       \r\n        this.cam.position.lerp(this.character.position.clone().add(this.distance), .4);\r\n        this.cam.lookAt(this.character.position);\r\n        \r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/thirdpersoncontroller.ts"],"sourceRoot":""}